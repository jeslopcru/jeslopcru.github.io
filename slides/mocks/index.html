<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>Mocks y testing</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=792, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="shower/themes/ribbon/styles/screen.css">
</head>
<body class="list">
<header class="caption">
    <h1>Mocks y testing</h1>

    <p>Jesús LC</p>
</header>
<section class="slide cover" id="Cover">
    <div>
        <h2>Mocks y Testing</h2>

        <p>Aprendiendo triquiñuelas para testear mejor</p>
        <img src="pictures/cover.jpg" alt="">
        <!--
            To apply styles to the certain slides
            set slide ID to get needed elements
            -->
        <style>
            #Cover h2 {
                margin: 30px 0 0;
                color: #FFF;
                text-align: center;
                font-size: 70px;
            }

            #Cover p {
                margin: 10px 0 0;
                text-align: center;
                color: #FFF;
                font-style: italic;
                font-size: 20px;
            }

            #Cover p a {
                color: #FFF;
            }
        </style>
    </div>
</section>
<section class="slide cover">
    <div>
        <img style="left: 25%;" src="pictures/postureo.png" alt="">
    </div>
</section>
<section class="slide">
    <div>
        <h2>Indice</h2>
        <ol>
            <li>¿Por qué utilizar mocks?</li>
            <li>Motivación</li>
            <li>Tipos de Mocks</li>
            <li>Ejemplo</li>
        </ol>
        <p class="note">Los <strong>mocks</strong> son objetos que imitan el comportamiento de objetos reales de una forma controlada.</p>
    </div>
</section>
<section class="slide">
    <div>
        <h2>processPayment</h2>
        <img class="next" src="pictures/mockPayment.png">
        <a href="https://jtreminio.com/2013/03/unit-testing-tutorial-part-4-mock-objects-stub-methods-dependency-injection/">more info</a>
    </div>
</section>
<section class="slide">
    <div>
        <h2>Tipos de Mocks</h2>
        <ul>
            <li><u>Dummy</u></li>
            <p>Cuando un objeto se <strong>requiere</strong> como argumento pero no se usa</p>
            <pre><code>$logger = $this->getMock('Logger');</code></pre>
        </ul>
    </div>
</section>
<section class="slide">
    <div>
        <h2>Tipos de Mocks</h2>
        <ul>
            <li><u>Stub</u></li>
            <p>Cuando un método de un objeto <strong>necesita</strong> devolver valores "a pincho"</p>
            <pre>
            <code>$logger = $this->getMock('Logger');</code>
            <code>$logger
    ->expects($this->any())
    ->method('getLevel')
    ->will($this->returnValue(Logger::INFO));</code>
                </pre>
        </ul>
    </div>
</section>
<section class="slide">
    <div>
        <h2>Tipos de Mocks</h2>
        <ul>
            <li><u>Fake</u></li>
            <p>Cuando creamos una clase  <strong>recubrimiento</strong> para testear</p>
            <pre>
            <code>class InfoLevelLoggerFake implements Logger {</code>
            <code>public function getLevel() {</code>
            <code>        return self::INFO;</code>
            <code>}</code>
                </pre>
        </ul>
    </div>
</section>
<section class="slide">
    <div>
        <h2>Tipos de Mocks</h2>
        <ul>
            <li><u>Self-hunt</u><sup> Parecido al anterior</sup></li>
            <p> Creamos una clase/implementamos una interfaz para<strong>falsear</strong>los métodos a testear</p>
            <pre>
                Al crear un usuario se añade un elemento a la BD y se envía un email
            </pre>
        </ul>
        <a href="http://jesuslc.com/2014/07/14/patrones-test-utilizando-phpunit/">más info</a>
    </div>
</section>
<section class="slide">
    <div>
        <h2>Ejemplo</h2>
        <figure>
           <img src="pictures/mocks.png">
        </figure>
    </div>
</section>
<section class="slide cover" id="Picture">
    <div>
        <h2>Let's do it</h2>
        <img src="pictures/picture.jpg" alt="">
        <style>
            #Picture h2 {
                color: #FFF;
            }
        </style>
    </div>
</section>
<section class="slide">
    <div>
        <h2>Referencias</h2>
        <li><a href="https://phpunit.de/manual/current/en/test-doubles.html">Documentación oficial</a></li>
        <li><a href="https://jtreminio.com/2013/03/unit-testing-tutorial-part-4-mock-objects-stub-methods-dependency-injection/">Payment</a></li>
        <li><a href="http://php-and-symfony.matthiasnoback.nl/2014/07/test-doubles/">tipos de tests</a></li>
    </div>
</section>
<section class="slide shout" id="SeeMore">
    <div>
        <h2>Gracias</h2>
        <p><img src="pictures/logo.svg" alt=""> <a href="https://github.com/shower/shower">Powered by Shower</a></p>
        <style>
            #Picture h2 {
                color: #FFF;
            }

            #SeeMore h2 {
                font-size: 100px
            }

            #SeeMore img {
                width: 0.72em;
                height: 0.72em;
            }
        </style>
    </div>
</section>
<!--
    To hide progress bar from entire presentation
    just remove “progress” element.
    -->
<div class="progress">
    <div></div>
</div>
<script src="shower/shower.min.js"></script>
<!-- Copyright © 2014 Yours Truly, Famous Inc. -->
<!-- Photos by John Carey, fiftyfootshadows.net -->
</body>
</html>
